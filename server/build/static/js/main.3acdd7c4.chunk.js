(this["webpackJsonpcode-editor"]=this["webpackJsonpcode-editor"]||[]).push([[0],{42:function(e,t,n){e.exports=n(75)},47:function(e,t,n){},49:function(e,t,n){},75:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(34),o=n.n(c),l=(n(47),n(3)),i=n.n(l),u=n(6),s=n(1),m=(n(49),n(13)),d=n(4),p=n(35),f=n.n(p).a.create({baseURL:"/api/"}),v=(n(66),n(67),n(68),n(69),n(70),n(36)),g=function(e){var t=e.language,n=e.value,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editor-container"},r.a.createElement(v.Controlled,{onBeforeChange:function(e,t,n){a(n)},value:n,className:"editor-wrapper",options:{lineWrapping:!0,lint:!0,mode:t,lineNumbers:!0,theme:"material"}})))},h=function(e){var t=e.srcDoc,n=e.setSrcDoc,c=e.html,o=e.css,l=e.javascript;return Object(a.useEffect)((function(){var e=setTimeout((function(){n("\n            <html>\n                <body>".concat(c,"</body>\n                <style>").concat(o,"</style>\n                <script>").concat(l,"<\/script>\n            </html>\n            "))}),1e3);return function(){return clearTimeout(e)}}),[c,o,l]),r.a.createElement("div",{className:"window display"},r.a.createElement("iframe",{srcDoc:t,title:"output",sandbox:"allow-scripts",frameBorder:"0",width:"100%",height:"100%"}))},b=function(e,t){var n="CODE_EDITOR_"+e,r=Object(a.useState)((function(){var e=localStorage.getItem(n);return e?JSON.parse(e):"function"===typeof t?t():t})),c=Object(s.a)(r,2),o=c[0],l=c[1];return Object(a.useEffect)((function(){localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,l]},E=n(11),j=n(12);function w(){var e=Object(E.a)(["\n    width: 20vw;\n    padding: .5em;\n    background-color: #E53E3E;\n    margin: auto auto 1em auto;\n    color: #F7FAFC;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return w=function(){return e},e}function O(){var e=Object(E.a)(["\n    width: 20vw;\n    color: #2D3748;\n    background-color: #CBD5E0;\n"]);return O=function(){return e},e}function C(){var e=Object(E.a)(["\n    width: 20vw;\n    height: 5vh;\n    color: #2D3748;\n    background-color: #CBD5E0;\n    margin: auto auto 1em auto;\n    border:none;\n    display: block;\n    outline: none;\n    padding: .5em .2em;\n"]);return C=function(){return e},e}function x(){var e=Object(E.a)(["\n    background-color: #CBD5E0;\n    color: #2D3748;\n    margin: auto auto 1em auto;\n    width: 20vw;\n    height: 10vh;\n    border: none;\n    display: block;\n    outline: none;\n    padding: .5em .2em;\n    font-family: Arial, Helvetica, sans-serif;\n    @media screen and (max-width: 828px){\n        width: 60vw;\n    }\n"]);return x=function(){return e},e}function k(){var e=Object(E.a)(["\n    background-color: #CBD5E0;\n    color: #2D3748;\n    margin: auto auto 1em auto;\n    width: 20vw;\n    height: 5vh;\n    border: none;\n    display: block;\n    outline: none;\n    padding: 0em .2em;\n    @media screen and (max-width: 828px){\n        width: 60vw;\n    }\n"]);return k=function(){return e},e}function S(){var e=Object(E.a)(["\n    color: #E2E8F0;\n    text-decoration: none;\n    &:visited {\n        color: #E2E8F0;\n    }\n\n    &:hover {\n        color: #EDF2F7;\n    }\n"]);return S=function(){return e},e}function y(){var e=Object(E.a)(["\n    color: #A0AEC0;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return y=function(){return e},e}function N(){var e=Object(E.a)(["\n    color: #E2E8F0;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return N=function(){return e},e}function D(){var e=Object(E.a)(["\n    background: #38A169;\n    color: #F7FAFC;\n    border: none;\n    outline: none;\n    font-size: 1em;\n    padding: 0em .5em;\n    width: ",";\n    height: 5vh;\n    margin: 0em 0em .5em 0em;\n    display: ",";\n    &:hover {\n        background-color: #2F855A;\n    }\n"]);return D=function(){return e},e}function L(){var e=Object(E.a)(["\n    background: ",";\n    color: ",";\n    border: none;\n    outline: none;\n    padding: .5em;\n    margin: 0em 0em .5em 0em;\n    display: ",";\n    &:hover {\n        background-color: ",";\n    }\n"]);return L=function(){return e},e}var A=j.a.button(L(),(function(e){return e.active?"#333":"#999"}),(function(e){return e.active?"#fff":"#000"}),(function(e){return e.block?"block":"inline-block"}),(function(e){return e.active?"#333":"#888"})),F=j.a.button(D(),(function(e){return e.noWidth?" ":"20vw"}),(function(e){return e.block?"block":"inline-block"})),I=j.a.h1(N()),P=j.a.h3(y()),W=Object(j.a)(m.b)(S()),B=j.a.input(k()),H=j.a.textarea(x()),R=j.a.select(C()),T=j.a.option(O()),J=j.a.div(w()),U=r.a.createContext({}),M=U.Provider,G=(U.Consumer,U),_=n(14),z=function(){var e=Object(d.g)(),t=Object(d.h)().id,n=Object(a.useContext)(G).loggedIn,c=b("html","<h1>Hello World</h1>"),o=Object(s.a)(c,2),l=o[0],m=o[1],p=b("css",""),v=Object(s.a)(p,2),E=v[0],j=v[1],w=b("javascript",""),O=Object(s.a)(w,2),C=O[0],x=O[1],k=Object(a.useState)(""),S=Object(s.a)(k,2),y=S[0],N=S[1],D=Object(a.useState)(""),L=Object(s.a)(D,2),W=L[0],B=L[1],H=Object(a.useState)(""),R=Object(s.a)(H,2),T=R[0],J=R[1],U=Object(a.useState)(""),M=Object(s.a)(U,2),z=M[0],$=M[1],q=Object(a.useState)("html"),K=Object(s.a)(q,2),Q=K[0],V=K[1],X=Object(a.useState)(),Y=Object(s.a)(X,2),Z=Y[0],ee=Y[1],te=Object(a.useState)(),ne=Object(s.a)(te,2),ae=(ne[0],ne[1]),re={html:{language:"xml",displayName:"HTML",value:l,onChange:m},css:{language:"css",displayName:"CSS",value:E,onChange:j},javascript:{language:"javascript",displayName:"Javascript",value:C,onChange:x}};return Object(a.useEffect)((function(){var n=function(){var e=Object(u.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/project/".concat(t),{withCredentials:!0});case 3:n=e.sent,ee(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.data?ae(e.t0.response.data.msg):ae("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var t=Object(u.a)(i.a.mark((function t(n){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,f.get("/code/project/".concat(n),{withCredentials:!0});case 3:(a=t.sent).data&&a.data.length>0?(m(a.data.filter((function(e){return"html"===e.lang}))[0].code),N(a.data.filter((function(e){return"html"===e.lang}))[0].code),j(a.data.filter((function(e){return"css"===e.lang}))[0].code),B(a.data.filter((function(e){return"css"===e.lang}))[0].code),x(a.data.filter((function(e){return"javascript"===e.lang}))[0].code),J(a.data.filter((function(e){return"javascript"===e.lang}))[0].code)):e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data?ae(t.t0.response.data.msg):ae("Something went wrong!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=Object(u.a)(i.a.mark((function e(t,n){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.put("/code/update/".concat(t,"/").concat(n),{code:re[t].value},{withCredentials:!0});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response.data.msg?ae(e.t0.response.data.msg):ae("Something went wrong!");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();if(t&&!Z&&(n(t),a(t)),t){var c=setInterval((function(){console.log("update"),l!==y&&(N((function(){return l})),r("html",t)),E!==W&&(B((function(){return E})),r("css",t)),C!==T&&(J((function(){return C})),r("javascript",t))}),6e4);return function(){return clearInterval(c)}}}),[l,E,C,y,W,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement(_.a,null,t?Z?r.a.createElement("title",null,Z.title):r.a.createElement("title",null,"..."):r.a.createElement("title",null,"Code Editor")),r.a.createElement("div",{className:"window-container"},r.a.createElement("div",{className:"window code-window"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{onClick:function(){return e.push("/")}},"Home"),t&&Z?Z.title?r.a.createElement(I,null,Z.title):r.a.createElement(I,null,"Untitled"):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{block:!0,onClick:function(){return e.push("/getStarted")},noWidth:!0},"Get Started")),r.a.createElement(A,{active:"html"===Q,onClick:function(){return V("html")}},"HTML"),r.a.createElement(A,{active:"css"===Q,onClick:function(){return V("css")}},"CSS"),r.a.createElement(A,{active:"javascript"===Q,onClick:function(){return V("javascript")}},"Javascript"),r.a.createElement(g,{language:re[Q].language,displayName:re[Q].displayName,value:re[Q].value,onChange:re[Q].onChange})),r.a.createElement("div",{className:"window display"},r.a.createElement(h,{srcDoc:z,setSrcDoc:$,html:l,css:E,javascript:C}))))},$=function(){var e=Object(a.useContext)(G).setLoggedIn,t=Object(d.g)(),n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],l=c[1],m=Object(a.useState)(""),p=Object(s.a)(m,2),v=p[0],g=p[1],h=Object(a.useState)(""),b=Object(s.a)(h,2),E=b[0],j=b[1];return r.a.createElement("div",{className:"loginContainer"},E?r.a.createElement(J,null,E):null,r.a.createElement("form",{onSubmit:function(n){(n.preventDefault(),o&&v)&&function(){var n=Object(u.a)(i.a.mark((function n(){return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,f.post("/user/login",{email:o,password:v},{withCredentials:!0});case 3:n.sent.data&&(e(!0),t.push("/")),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),n.t0.response.data?j(n.t0.response.data.msg):j("Something went wrong!");case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"email",placeholder:"Email Address",onChange:function(e){return l(e.target.value)},maxLength:200}),r.a.createElement(B,{type:"password",placeholder:"Password",onChange:function(e){return g(e.target.value)},maxLength:300}),r.a.createElement(F,{active:!0},"Login")))},q=function(){var e=Object(d.g)(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],l=Object(a.useState)(""),m=Object(s.a)(l,2),p=m[0],v=m[1],g=Object(a.useState)(""),h=Object(s.a)(g,2),b=h[0],E=h[1],j=Object(a.useState)(""),w=Object(s.a)(j,2),O=w[0],C=w[1],x=Object(a.useState)(""),k=Object(s.a)(x,2),S=k[0],y=k[1],N=Object(a.useState)(null),D=Object(s.a)(N,2),L=D[0],A=D[1];return L&&e.push("/login"),r.a.createElement("div",{className:"registrationContainer"},S?r.a.createElement(J,null,S):null,r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),c&&p&&b&&O)&&function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/user/register",{name:c,username:p,email:b,password:O},{withCredentials:!0});case 3:t=e.sent,A(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.data?y(e.t0.response.data.msg):y("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"text",placeholder:"Name",maxLength:50,onChange:function(e){return o(e.target.value)}}),r.a.createElement(B,{type:"text",placeholder:"Username",maxLength:100,onChange:function(e){return v(e.target.value)}}),r.a.createElement(B,{type:"email",placeholder:"Email Address",maxLength:200,onChange:function(e){return E(e.target.value)}}),r.a.createElement(B,{type:"password",placeholder:"Password",maxLength:300,onChange:function(e){return C(e.target.value)}}),r.a.createElement(F,{active:!0},"Register")))},K=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(_.a,null,r.a.createElement("title",null,"Getting Started")),r.a.createElement("div",{className:"loginRegistrationContainer"},r.a.createElement($,null),r.a.createElement(q,null)))},Q=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(_.a,null,r.a.createElement("title",null,"Login")),r.a.createElement("div",{className:"loginRegistrationContainer"},r.a.createElement($,null)))},V=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),l=Object(s.a)(o,2),m=l[0],p=l[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/project/user/",{withCredentials:!0});case 3:t=e.sent,c(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0.response?p(e.t0.response.data.msg):p("Something went wrong!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=Object(d.g)();return r.a.createElement("div",{className:"container"},r.a.createElement(_.a,null,r.a.createElement("title",null,"Code Editor")),r.a.createElement("div",{className:"homeContainer"},r.a.createElement("div",{className:"title"},r.a.createElement(I,null,"Projects")),m?r.a.createElement(J,null,m):null,r.a.createElement("div",{className:"projectContainer"},n&&n.length>0?n.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(I,null,r.a.createElement(W,{to:"/project/".concat(e.id)},e.title)),r.a.createElement(P,null,e.description))})):null),r.a.createElement("div",{className:"createProjectContainer"},r.a.createElement(F,{noWidth:!0,onClick:function(){return v.push("/project/create")}},"Create New Project"))))},X=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),l=Object(s.a)(o,2),m=l[0],p=l[1],v=Object(a.useState)("Private"),g=Object(s.a)(v,2),h=g[0],b=g[1],E=Object(a.useState)(null),j=Object(s.a)(E,2),w=j[0],O=j[1],C=Object(d.g)();return r.a.createElement("div",{className:"container"},r.a.createElement(_.a,null,r.a.createElement("title",null,"Create a project")),w?r.a.createElement(J,null,w):null,r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),n&&m)&&function(){var e=Object(u.a)(i.a.mark((function e(){var t,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.post("/project/create",{title:n,description:m,privacy:"Private"===h},{withCredentials:!0});case 3:if(!(t=e.sent).data){e.next=15;break}return e.next=7,f.post("/code/create",{projectId:t.data.id,lang:"html",code:""},{withCredentials:!0});case 7:return a=e.sent,e.next=10,f.post("/code/create",{projectId:t.data.id,lang:"css",code:""},{withCredentials:!0});case 10:return r=e.sent,e.next=13,f.post("/code/create",{projectId:t.data.id,lang:"javascript",code:""},{withCredentials:!0});case 13:c=e.sent,a&&r&&c&&C.push("/project/".concat(t.data.id));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),e.t0.response.data?O(e.t0.response.data.msg):O("Something went wrong!");case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"text",placeholder:"Title",maxLength:100,onChange:function(e){return c(e.target.value)}}),r.a.createElement(H,{placeholder:"Description",maxLength:200,onChange:function(e){return p(e.target.value)}}),r.a.createElement(R,{value:h,onChange:function(e){return b(e.target.value)}},r.a.createElement(T,{value:"Private"},"Private"),r.a.createElement(T,{value:"Public"},"Public")),r.a.createElement(F,null,"Submit")))};var Y=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,f.get("/user/isLoggedIn",{withCredentials:!0});case 3:e.sent.data&&c(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),r.a.createElement(M,{value:{loggedIn:n,setLoggedIn:c}},n?r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0},r.a.createElement(V,null)),r.a.createElement(d.b,{path:"/project/create",exact:!0},r.a.createElement(X,null)),r.a.createElement(d.b,{path:"/project/:id",exact:!0},r.a.createElement(z,null)),r.a.createElement(d.b,{path:"*"},r.a.createElement(d.a,{to:"/"})))):r.a.createElement(m.a,null,r.a.createElement(d.d,null,r.a.createElement(d.b,{path:"/",exact:!0},r.a.createElement(z,null)),r.a.createElement(d.b,{path:"/getStarted",exact:!0},r.a.createElement(K,null)),r.a.createElement(d.b,{path:"/login",exact:!0},r.a.createElement(Q,null)),r.a.createElement(d.b,{path:"*"},r.a.createElement(d.a,{to:"/"})))))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Y,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Z?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()}},[[42,1,2]]]);
//# sourceMappingURL=main.3acdd7c4.chunk.js.map