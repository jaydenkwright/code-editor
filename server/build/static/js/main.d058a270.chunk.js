(this["webpackJsonpcode-editor"]=this["webpackJsonpcode-editor"]||[]).push([[0],{39:function(e,t,n){e.exports=n(72)},44:function(e,t,n){},46:function(e,t,n){},72:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),o=n.n(c),i=(n(44),n(2)),l=n.n(i),u=n(5),s=n(1),d=(n(46),n(12)),m=n(3),f=n(34),p=n.n(f).a.create({baseURL:"http://localhost:5000/api/"}),v=(n(63),n(64),n(65),n(66),n(67),n(35)),g=function(e){var t=e.language,n=e.value,a=e.onChange;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"editor-container"},r.a.createElement(v.Controlled,{onBeforeChange:function(e,t,n){a(n)},value:n,className:"editor-wrapper",options:{lineWrapping:!0,lint:!0,mode:t,lineNumbers:!0,theme:"material"}})))},h=function(e){var t=e.srcDoc,n=e.setSrcDoc,c=e.html,o=e.css,i=e.javascript;return Object(a.useEffect)((function(){var e=setTimeout((function(){n("\n            <html>\n                <body>".concat(c,"</body>\n                <style>").concat(o,"</style>\n                <script>").concat(i,"<\/script>\n            </html>\n            "))}),1e3);return function(){return clearTimeout(e)}}),[c,o,i]),r.a.createElement("div",{className:"window display"},r.a.createElement("iframe",{srcDoc:t,title:"output",sandbox:"allow-scripts",frameBorder:"0",width:"100%",height:"100%"}))},b=function(e,t){var n="CODE_EDITOR_"+e,r=Object(a.useState)((function(){var e=localStorage.getItem(n);return e?JSON.parse(e):"function"===typeof t?t():t})),c=Object(s.a)(r,2),o=c[0],i=c[1];return Object(a.useEffect)((function(){localStorage.setItem(n,JSON.stringify(o))}),[n,o]),[o,i]},j=n(10),E=n(11);function w(){var e=Object(j.a)(["\n    width: 20vw;\n    padding: .5em;\n    background-color: #E53E3E;\n    margin: auto auto 1em auto;\n    color: #F7FAFC;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return w=function(){return e},e}function O(){var e=Object(j.a)(["\n    width: 20vw;\n    color: #2D3748;\n    background-color: #CBD5E0;\n"]);return O=function(){return e},e}function C(){var e=Object(j.a)(["\n    width: 20vw;\n    height: 5vh;\n    color: #2D3748;\n    background-color: #CBD5E0;\n    margin: auto auto 1em auto;\n    border:none;\n    display: block;\n    outline: none;\n    padding: .5em .2em;\n"]);return C=function(){return e},e}function k(){var e=Object(j.a)(["\n    background-color: #CBD5E0;\n    color: #2D3748;\n    margin: auto auto 1em auto;\n    width: 20vw;\n    height: 10vh;\n    border: none;\n    display: block;\n    outline: none;\n    padding: .5em .2em;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return k=function(){return e},e}function x(){var e=Object(j.a)(["\n    background-color: #CBD5E0;\n    color: #2D3748;\n    margin: auto auto 1em auto;\n    width: 20vw;\n    height: 5vh;\n    border: none;\n    display: block;\n    outline: none;\n    padding: 0em .2em;\n"]);return x=function(){return e},e}function S(){var e=Object(j.a)(["\n    color: #E2E8F0;\n    text-decoration: none;\n    &:visited {\n        color: #E2E8F0;\n    }\n\n    &:hover {\n        color: #EDF2F7;\n    }\n"]);return S=function(){return e},e}function y(){var e=Object(j.a)(["\n    color: #A0AEC0;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return y=function(){return e},e}function N(){var e=Object(j.a)(["\n    color: #E2E8F0;\n    font-family: Arial, Helvetica, sans-serif;\n"]);return N=function(){return e},e}function D(){var e=Object(j.a)(["\n    background: #38A169;\n    color: #F7FAFC;\n    border: none;\n    outline: none;\n    font-size: 1em;\n    padding: 0em .5em;\n    width: ",";\n    height: 5vh;\n    margin: 0em 0em .5em 0em;\n    display: ",";\n    &:hover {\n        background-color: #2F855A;\n    }\n"]);return D=function(){return e},e}function A(){var e=Object(j.a)(["\n    background: ",";\n    color: ",";\n    border: none;\n    outline: none;\n    padding: .5em;\n    margin: 0em 0em .5em 0em;\n    display: ",";\n    &:hover {\n        background-color: ",";\n    }\n"]);return A=function(){return e},e}var L=E.a.button(A(),(function(e){return e.active?"#333":"#999"}),(function(e){return e.active?"#fff":"#000"}),(function(e){return e.block?"block":"inline-block"}),(function(e){return e.active?"#333":"#888"})),F=E.a.button(D(),(function(e){return e.noWidth?" ":"20vw"}),(function(e){return e.block?"block":"inline-block"})),I=E.a.h1(N()),P=E.a.h3(y()),W=Object(E.a)(d.b)(S()),B=E.a.input(x()),H=E.a.textarea(k()),R=E.a.select(C()),T=E.a.option(O()),J=E.a.div(w()),U=r.a.createContext({}),M=U.Provider,_=(U.Consumer,U),z=function(){var e=Object(m.f)(),t=Object(m.g)().id,n=Object(a.useContext)(_).loggedIn,c=b("html","test"),o=Object(s.a)(c,2),i=o[0],d=o[1],f=b("css",""),v=Object(s.a)(f,2),j=v[0],E=v[1],w=b("javascript",""),O=Object(s.a)(w,2),C=O[0],k=O[1],x=Object(a.useState)(""),S=Object(s.a)(x,2),y=S[0],N=S[1],D=Object(a.useState)(""),A=Object(s.a)(D,2),W=A[0],B=A[1],H=Object(a.useState)(""),R=Object(s.a)(H,2),T=R[0],J=R[1],U=Object(a.useState)(""),M=Object(s.a)(U,2),z=M[0],G=M[1],K=Object(a.useState)("html"),$=Object(s.a)(K,2),q=$[0],Q=$[1],V=Object(a.useState)(),X=Object(s.a)(V,2),Y=X[0],Z=X[1],ee=Object(a.useState)(),te=Object(s.a)(ee,2),ne=(te[0],te[1]),ae={html:{language:"xml",displayName:"HTML",value:i,onChange:d},css:{language:"css",displayName:"CSS",value:j,onChange:E},javascript:{language:"javascript",displayName:"Javascript",value:C,onChange:k}};return Object(a.useEffect)((function(){var n=function(){var e=Object(u.a)(l.a.mark((function e(t){var n;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/project/".concat(t),{withCredentials:!0});case 3:n=e.sent,Z(n.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),e.t0.response.data?ne(e.t0.response.data.msg):ne("Something went wrong!");case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a=function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,p.get("/code/project/".concat(n),{withCredentials:!0});case 3:(a=t.sent).data&&a.data.length>0?(d(a.data.filter((function(e){return"html"===e.lang}))[0].code),N(a.data.filter((function(e){return"html"===e.lang}))[0].code),E(a.data.filter((function(e){return"css"===e.lang}))[0].code),B(a.data.filter((function(e){return"css"===e.lang}))[0].code),k(a.data.filter((function(e){return"javascript"===e.lang}))[0].code),J(a.data.filter((function(e){return"javascript"===e.lang}))[0].code)):e.push("/"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),t.t0.response.data?ne(t.t0.response.data.msg):ne("Something went wrong!");case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),r=function(){var e=Object(u.a)(l.a.mark((function e(t,n){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.put("/code/update/".concat(t,"/").concat(n),{code:ae[t].value},{withCredentials:!0});case 3:e.sent,e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),e.t0.response.data.msg?ne(e.t0.response.data.msg):ne("Something went wrong!");case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t,n){return e.apply(this,arguments)}}();if(t&&!Y&&(n(t),a(t)),t){var c=setInterval((function(){console.log("update"),i!==y&&(N((function(){return i})),r("html",t)),j!==W&&(B((function(){return j})),r("css",t)),C!==T&&(J((function(){return C})),r("javascript",t))}),6e4);return function(){return clearInterval(c)}}}),[i,j,C,y,W,T]),r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"window-container"},r.a.createElement("div",{className:"window code-window"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(P,{onClick:function(){return e.push("/")}},"Home"),t&&Y?Y.title?r.a.createElement(I,null,Y.title):r.a.createElement(I,null,"Untitled"):null):r.a.createElement(r.a.Fragment,null,r.a.createElement(F,{block:!0,onClick:function(){return e.push("/getStarted")},noWidth:!0},"Get Started")),r.a.createElement(L,{active:"html"===q,onClick:function(){return Q("html")}},"HTML"),r.a.createElement(L,{active:"css"===q,onClick:function(){return Q("css")}},"CSS"),r.a.createElement(L,{active:"javascript"===q,onClick:function(){return Q("javascript")}},"Javascript"),r.a.createElement(g,{language:ae[q].language,displayName:ae[q].displayName,value:ae[q].value,onChange:ae[q].onChange})),r.a.createElement("div",{className:"window display"},r.a.createElement(h,{srcDoc:z,setSrcDoc:G,html:i,css:j,javascript:C}))))},G=function(){var e=Object(a.useContext)(_).setLoggedIn,t=Object(m.f)(),n=Object(a.useState)(""),c=Object(s.a)(n,2),o=c[0],i=c[1],d=Object(a.useState)(""),f=Object(s.a)(d,2),v=f[0],g=f[1],h=Object(a.useState)(""),b=Object(s.a)(h,2),j=b[0],E=b[1];return r.a.createElement("div",{className:"loginContainer"},j?r.a.createElement(J,null,j):null,r.a.createElement("form",{onSubmit:function(n){(n.preventDefault(),o&&v)&&function(){var n=Object(u.a)(l.a.mark((function n(){return l.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,p.post("/user/login",{email:o,password:v},{withCredentials:!0});case 3:n.sent.data&&(e(!0),t.push("/")),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),E(n.t0.response.data.msg);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(){return n.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"email",placeholder:"Email Address",onChange:function(e){return i(e.target.value)},maxLength:200}),r.a.createElement(B,{type:"password",placeholder:"Password",onChange:function(e){return g(e.target.value)},maxLength:300}),r.a.createElement(F,{active:!0},"Login")))},K=function(){var e=Object(m.f)(),t=Object(a.useState)(""),n=Object(s.a)(t,2),c=n[0],o=n[1],i=Object(a.useState)(""),d=Object(s.a)(i,2),f=d[0],v=d[1],g=Object(a.useState)(""),h=Object(s.a)(g,2),b=h[0],j=h[1],E=Object(a.useState)(""),w=Object(s.a)(E,2),O=w[0],C=w[1],k=Object(a.useState)(""),x=Object(s.a)(k,2),S=x[0],y=x[1],N=Object(a.useState)(null),D=Object(s.a)(N,2),A=D[0],L=D[1];return A&&e.push("/login"),r.a.createElement("div",{className:"registrationContainer"},S?r.a.createElement(J,null,S):null,r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),c&&f&&b&&O)&&function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post("/user/register",{name:c,username:f,email:b,password:O},{withCredentials:!0});case 3:t=e.sent,L(t.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),y(e.t0.response.data.msg);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"text",placeholder:"Name",maxLength:50,onChange:function(e){return o(e.target.value)}}),r.a.createElement(B,{type:"text",placeholder:"Username",maxLength:100,onChange:function(e){return v(e.target.value)}}),r.a.createElement(B,{type:"email",placeholder:"Email Address",maxLength:200,onChange:function(e){return j(e.target.value)}}),r.a.createElement(B,{type:"password",placeholder:"Password",maxLength:300,onChange:function(e){return C(e.target.value)}}),r.a.createElement(F,{active:!0},"Register")))},$=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"loginRegistrationContainer"},r.a.createElement(G,null),r.a.createElement(K,null)))},q=function(){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"loginRegistrationContainer"},r.a.createElement(G,null)))},Q=function(){var e=Object(a.useState)(),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(),i=Object(s.a)(o,2),d=i[0],f=i[1];Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){var t;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/project/user/",{withCredentials:!0});case 3:t=e.sent,c(t.data),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0),e.t0.response?f(e.t0.response.data.msg):f("Something went wrong!");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[]);var v=Object(m.f)();return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"homeContainer"},r.a.createElement("div",{className:"title"},r.a.createElement(I,null,"Hello, Kyle")),d?r.a.createElement(J,null,d):null,r.a.createElement("div",{className:"projectContainer"},n&&n.length>0?n.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement(I,null,r.a.createElement(W,{to:"/project/".concat(e.id)},e.title)),r.a.createElement(P,null,e.description))})):null),r.a.createElement("div",{className:"createProjectContainer"},r.a.createElement(F,{noWidth:!0,onClick:function(){return v.push("/project/create")}},"Create New Project"))))},V=function(){var e=Object(a.useState)(""),t=Object(s.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)(""),i=Object(s.a)(o,2),d=i[0],f=i[1],v=Object(a.useState)("Private"),g=Object(s.a)(v,2),h=g[0],b=g[1],j=Object(a.useState)(null),E=Object(s.a)(j,2),w=E[0],O=E[1],C=Object(m.f)();return r.a.createElement("div",{className:"container"},w?r.a.createElement(J,null,w):null,r.a.createElement("form",{onSubmit:function(e){(e.preventDefault(),n&&d)&&function(){var e=Object(u.a)(l.a.mark((function e(){var t,a,r,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.post("/project/create",{title:n,description:d,privacy:"Private"===h},{withCredentials:!0});case 3:if(!(t=e.sent).data){e.next=15;break}return e.next=7,p.post("/code/create",{projectId:t.data.id,lang:"html",code:""},{withCredentials:!0});case 7:return a=e.sent,e.next=10,p.post("/code/create",{projectId:t.data.id,lang:"css",code:""},{withCredentials:!0});case 10:return r=e.sent,e.next=13,p.post("/code/create",{projectId:t.data.id,lang:"javascript",code:""},{withCredentials:!0});case 13:c=e.sent,a&&r&&c&&C.push("/project/".concat(t.data.id));case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(0),O(e.t0.response.data.msg);case 20:case"end":return e.stop()}}),e,null,[[0,17]])})));return function(){return e.apply(this,arguments)}}()()}},r.a.createElement(B,{type:"text",placeholder:"Title",maxLength:100,onChange:function(e){return c(e.target.value)}}),r.a.createElement(H,{placeholder:"Description",maxLength:200,onChange:function(e){return f(e.target.value)}}),r.a.createElement(R,{value:h,onChange:function(e){return b(e.target.value)}},r.a.createElement(T,{value:"Private"},"Private"),r.a.createElement(T,{value:"Public"},"Public")),r.a.createElement(F,null,"Submit")))};var X=function(){var e=Object(a.useState)(null),t=Object(s.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){(function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.get("/user/isLoggedIn",{withCredentials:!0});case 3:e.sent,c(!0),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),c(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}})()()}),[n]),r.a.createElement(M,{value:{loggedIn:n,setLoggedIn:c}},n?r.a.createElement(d.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0},r.a.createElement(Q,null)),r.a.createElement(m.a,{path:"/project/create",exact:!0},r.a.createElement(V,null)),r.a.createElement(m.a,{path:"/project/:id",exact:!0},r.a.createElement(z,null)))):r.a.createElement(d.a,null,r.a.createElement(m.c,null,r.a.createElement(m.a,{path:"/",exact:!0},r.a.createElement(z,null)),r.a.createElement(m.a,{path:"/getStarted",exact:!0},r.a.createElement($,null)),r.a.createElement(m.a,{path:"/login",exact:!0},r.a.createElement(q,null)))))},Y=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(X,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");Y?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):Z(t,e)}))}}()}},[[39,1,2]]]);
//# sourceMappingURL=main.d058a270.chunk.js.map